  <script src="./../js/jquery.min.js" type="text/javascript"></script>
  <script src="./../js/popper.min.js" type="text/javascript"></script>

<script>

  function validateUpc() {
    let getEle = document.getElementById('fg').value;

    if (getEle.substring(getEle.length, getEle.indexOf('.')).length != 6) {
      alert('Finished Goods Number must be 10 digit number separated by a dot.')
    }
  }

  function isNumeric(n) {
    if (!isNaN(parseFloat(n)) && isFinite(n)) {
      //do nothing
    } else {
      alert("'" + n + "' does not appear to be a number.");
    }
  }

  function isInt(value) {
    if ((value % 1) === 0 && value.toString().indexOf('.') === -1) {
    } else {
      alert("'" + value + "' does not appear to be an integer.");
    }
  }
	
function changer(){
   window.location = '/create?upc=' + document.getElementById('fg').value;
	}
	
	
	$(function () {
  $('#po, #po2').popover({
	  trigger: 'focus'
  })
})
	
function autoExpandTextarea(){
	$('textarea').attr('rows', 12);
}

</script>


<h2 class="font-weight-bold w-100 text-center mb-3">Create New Record</h2>

{{#if queryString}}
<form method="POST">
	{{/if}}

  <div class="d-flex flex-wrap">
	  
  <div class="form-label-group twocol">	  &nbsp {{#unless queryString}}Please Select or Input a Finished Goods Number{{else}}<b>Finished Goods Num</b>{{/unless}}
	    <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Finished Goods Number" data-content="This is example text." aria-hidden="true"></div>
	  <input type="text" id="fg" name="fg" class="form-control" placeholder="Finished Goods Number" list="UPCLIST" onchange="isNumeric(document.getElementById('fg').value);validateUpc();changer()" value="{{#if lxResult.CaseUPC}}{{lxResult.CaseUPC.[2]}}{{lxResult.CaseUPC.[3]}}{{lxResult.CaseUPC.[4]}}{{lxResult.CaseUPC.[5]}}{{lxResult.CaseUPC.[6]}}.{{lxResult.CaseUPC.[7]}}{{lxResult.CaseUPC.[8]}}{{lxResult.CaseUPC.[9]}}{{lxResult.CaseUPC.[10]}}{{lxResult.CaseUPC.[11]}}{{else}}{{queryString}}{{/if}}">      
<datalist id="UPCLIST">
   <option selected="selected"></option>
        {{#each lxInfo}}
  <option value="{{this.CaseUPC.[2]}}{{this.CaseUPC.[3]}}{{this.CaseUPC.[4]}}{{this.CaseUPC.[5]}}{{this.CaseUPC.[6]}}.{{this.CaseUPC.[7]}}{{this.CaseUPC.[8]}}{{this.CaseUPC.[9]}}{{this.CaseUPC.[10]}}{{this.CaseUPC.[11]}}">{{this.itemdescription}}</option>
        {{/each}}
            </datalist>
	   </div> 

	  
{{#if queryString}}
    <div class="form-label-group twocol"> &nbsp <b>GTIN</b>
		    <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po2" role="button" data-toggle="popover" data-trigger="focus" title="GTIN" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="gtin" name="gtin" class="form-control" placeholder="GTIN"
        onchange="isNumeric(document.getElementById('gtin').value);isInt(document.getElementById('gtin').value);" value="{{#if lxResult.CaseGTIN}}{{lxResult.CaseGTIN}}{{/if}}"
        required>
    </div>


    <div class="form-label-group"> &nbsp <b>LX Description</b>
		<div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Item Description" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="lx" name="lx" class="form-control" placeholder="LX Description" value="{{#if lxResult.ItemDescription}}{{lxResult.ItemDescription}}{{/if}}" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Part Number</b>
		<div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Part Number" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="PartNum" name="PartNum" class="form-control" placeholder="Part Number" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Country</b>
		     <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Country" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="country" name="country" class="form-control" placeholder="Country">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Formula</b>
		     <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Formula" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="formula" name="formula" class="form-control" placeholder="Formula" value="{{#if lxResult.Formula}}{{lxResult.Formula}}{{/if}}">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Label Description</b>
	    <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Label Description" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="LabelDescription" name="LabelDescription" class="form-control" 
        placeholder="Label Description">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Sub-Description</b>
		  <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Sub-Description" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="SubDescription" name="SubDescription" class="form-control" placeholder="Sub-Description" >
   
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Shelf</b>
		     <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Shelf" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="Shelf" name="Shelf" class="form-control" placeholder="Shelf"
        onchange="isNumeric(document.getElementById('Shelf').value);isInt(document.getElementById('Shelf').value);" value="{{#if lxResult.ShelfLifeDays}}{{lxResult.ShelfLifeDays}}{{/if}}">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Guarantee</b>
		<div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Guarantee" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="Guarantee" name="Guarantee" class="form-control" placeholder="Guarantee"
        onchange="isNumeric(document.getElementById('Guarantee').value);isInt(document.getElementById('Guarantee').value);">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Net Weight</b>
		     <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Net Weight" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="NetWeight" name="NetWeight" class="form-control" placeholder="Net Weight"
        onchange="isNumeric(document.getElementById('NetWeight').value);" value="{{#if lxResult.NetWeight}}{{lxResult.NetWeight}}{{/if}}" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Weigh UOM</b>
		   <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Weigh UOM" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="WeightUOM" name="WeightUOM" class="form-control" placeholder="Weight UOM" value="{{#if lxResult.WeightUM}}{{lxResult.WeightUM}}{{/if}}" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Pack Size</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Pack Size" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="PackSize" name="PackSize" class="form-control" placeholder="PackSize"
        onchange="isNumeric(document.getElementById('PackSize').value);" value="{{#if lxResult.UnitsPerCase}}{{lxResult.UnitsPerCase}}{{/if}}" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Net Content</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Net Content" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="NetContent" name="NetContent" class="form-control" placeholder="Net Content"
        onchange="isNumeric(document.getElementById('NetContent').value);" value="{{#if lxResult.UnitNetContents}}{{lxResult.UnitNetContents}}{{/if}}" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Net Weight UOM</b>
		<div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Net Weight UOM" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="NetWeightUOM" name="NetWeightUOM" class="form-control" placeholder="Net Weight UOM"
        value="{{#if lxResult.UnitNetContentsUM}}{{lxResult.UnitNetContentsUM}}{{/if}}" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Date Code</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Date Code" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="DateCode" name="DateCode" class="form-control" placeholder="Date Code" required>
    </div>

    <div class="form-label-group twocol"> &nbsp <b>CAD Date Code</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="CAD Date Code" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="CADDateCode" name="CADDateCode" class="form-control" placeholder="CAD Date Code">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Brand</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Brand" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="Brand" name="Brand" class="form-control" placeholder="Brand" value="{{#if lxResult.Brand}}{{lxResult.Brand}}{{/if}}">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Logo</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Logo" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="Logo" name="Logo" class="form-control" placeholder="Logo">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Nutrition Image</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Nutrition Image" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="NutritionImage" name="NutritionImage" class="form-control" placeholder="Nutrition Image">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Inspection Legend</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Inspection Legend" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="InspectionLegend" name="InspectionLegend" class="form-control"
        placeholder="Inspection Legend">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Inspection Code</b>
		      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Inspection Code" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="InspectionCode" name="InspectionCode" class="form-control" placeholder="Inspection Code">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Distribution Statement</b>
		 <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Distribution Statement" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="DistrStatement" name="DistrStatement" class="form-control"
        placeholder="Distribution Statement" required>
    </div>
	  
	  
	      <div class="form-label-group twocol"> &nbsp <b>Repack Description</b>
			        <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Repack Description" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="RepackDescription" name="RepackDescription" class="form-control" placeholder="Repack Description">
    </div>

    <div class="form-label-group twocol"> &nbsp <b>Repack Nutrition</b>
	      <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Repack Nutrition" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="RepackNutrition" name="RepackNutrition" class="form-control"
        placeholder="Repack Nutrition">
    </div>

	  	      <div class="form-label-group twocol"> &nbsp <b>Unit UPC</b>
		<div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Unit UPC" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="UnitUPC" name="UnitUPC" class="form-control"
        placeholder="UnitUPC" value="{{#if lxResult.UnitUPC}}{{lxResult.UnitUPC}}{{/if}}">
    </div>  	
	  
 <div class="form-label-group twocol"> &nbsp <b>Safe Handling</b>
	 	 <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Safe Handling" data-content="This is example text." aria-hidden="true"></div> 
      <input type="text" id="safe" name="safe" class="form-control" placeholder="Safe Handling" required>
    </div>
	
	  
    <div class="form-label-group twocol"> &nbsp <b>Ingredients Statement</b>
		  <div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Ingredients" data-content="This is example text." aria-hidden="true"></div> 
      <textarea rows="1" onfocus="autoExpandTextarea()" id="Ingredients" name="Ingredients" class="form-control" placeholder="Ingredients"></textarea>
    </div>
	  

    <div class="form-label-group twocol"> &nbsp <b>Repack Ingredients</b>
	<div class="fa fa-question-circle-o fa-lg" tabindex="1" id="po" role="button" data-toggle="popover" data-trigger="focus" title="Repack Ingredients" data-content="This is example text." aria-hidden="true"></div> 
      <textarea rows="1" onfocus="autoExpandTextarea()" id="RepackIngredients" name="RepackIngredients" class="form-control" placeholder="Repack Ingredients"></textarea>
    </div>

  </div>

  <h3>Select Facilities</h3>
  <div class="d-flex flex-wrap align-content-between">

    {{#each plantNums}}
    <label style="width: 9%; padding-top:5px; padding-bottom: 5px; color: black;" for="{{this.plant}}" name="{{this.plant}}"
      id="{{this.plant}}"><input type="checkbox" name="{{this.plant}}">
      {{this.plant}} &nbsp &nbsp </label> 
    {{/each}}
    <label for="CORP" name="CORP" id="CORP" style="width: 9%; padding-top:5px; padding-bottom: 5px; color: black;"><input type="checkbox" name="CORP"> CORP &nbsp &nbsp </label>
	  
  </div>
  <br>
  <input id="btn" type="submit" class="btn btn-lg btn-primary btn-block" value="Create Record">
</form>
{{/if}}

<script>
  var facilityHI = document.getElementById("HI");
  facilityHI.remove();
</script>